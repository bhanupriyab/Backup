CREATE OR REPLACE PROCEDURE IIW.SP_SPLIT_FILE_STATUS(I_SIZE IN NUMBER, I_FILE_NAME IN VARCHAR2, O_STATUS OUT NUMBER, O_MSG OUT VARCHAR2)
IS
SPLT_FL_NAME VARCHAR2(100);
BEGIN

FOR I IN 1..I_SIZE
LOOP

SPLT_FL_NAME := I_FILE_NAME || '_' || I;
INSERT INTO TBL_SPLIT_STATUS
(FILENAME,
SPLIT_FILENAME,
STATUS)
VALUES
(
I_FILE_NAME,
SPLT_FL_NAME,
'I'
);
END LOOP;
COMMIT;
O_STATUS := 1;
O_MSG := SQLERRM;
EXCEPTION 
WHEN OTHERS THEN
O_STATUS := 0;
O_MSG := SQLERRM;
END;
/
